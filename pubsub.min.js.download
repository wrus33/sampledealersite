this.DDC=this.DDC||{},this.DDC.pubsub=function(){"use strict";function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),Object.defineProperty(e,s.key,s)}}return new(function(){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),this.listeners={},this.tokenId=-1}var n,s,i;return n=t,(s=[{key:"_listenerHasTopic",value:function(e){for(var t in this.listeners)if(this.listeners.hasOwnProperty(e))return!0}},{key:"_showListeners",value:function(e){return e?this.listeners[e]||[]:this.listeners}},{key:"publish",value:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),s=1;s<t;s++)n[s-1]=arguments[s];this._listenerHasTopic(e)&&this.listeners[e].length&&this.listeners[e].forEach((function(t){var s=t.callback,i=t.once,r=t.token;"function"==typeof s&&(s.apply(void 0,n),i&&this.unsubscribe(e,r))}))}},{key:"subscribe",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];this._listenerHasTopic(e)||(this.listeners[e]=[]);var s=String(++this.tokenId);return this.listeners[e].push({token:s,callback:t,once:n}),{unsubscribe:this.unsubscribe.bind(this,e,s)}}},{key:"subscribeOnce",value:function(e,t){this.subscribe(e,t,!0)}},{key:"unsubscribe",value:function(e,t){t||!this._listenerHasTopic(e)?this.listeners[e]=this.listeners[e].filter((function(e){return e.token!==t})):delete this.listeners[e]}}])&&e(n.prototype,s),i&&e(n,i),t}())}();
//# sourceMappingURL=pubsub.min.js.map