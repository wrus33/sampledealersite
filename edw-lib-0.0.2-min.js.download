window.EDMUNDS=window.EDMUNDS||{},window.EDM=window.EDM||{},EDM.VERSION=1,window.EDM=window.EDM||{},EDM.Core=EDM.Core||{},EDM.Core.VERSION=1,EDM.Core.Cookie=new function(){var self=this,$L=null,$J=null,DEFAULT_EXP_MONTH=6,COOKIE_LIMIT=4e3,DEFAULT_PATH="/",STR_TEST_COOKIE="tcook=a",cookieCache={},initialized=!1;this.getMatchingCookies=function(e){init();var t=[];for(var n in cookieCache)n.match(e)&&t.push({name:n,value:cookieCache[n]});return t},this.getAsJson=function(e,t){var n=this.getAsString(e,t);return n?$J.parse(n):{}},this.getAsMap=function(e,t){var n=this.getAsString(e,t);return n?parseQueryString(n):{}},this.getAsObject=function(e,t){init();var n=cookieCache[e];if(n){if(n.match(/^\{.*\}$/))return this.getAsJson(e,t);if(n.match(/^\&.*$/))return this.getAsMap(e,t)}return{}},this.getAsString=-1!=window.location.href.indexOf("qa")||-1!=window.location.search.indexOf("cookiePatch")?function(e){return"string"==typeof e&&""!==e&&(init(),cookieCache.hasOwnProperty(e))?cookieCache[e]:null}:function(e){return e?(init(),cookieCache[e]):null},this.get=function(e,t){init();var n=cookieCache[e];if(n){if(n.match(/^\{.*\}$/))return this.getAsJson(e,t);if(n.match(/^\&.*$/))return this.getAsMap(e,t)}return this.getAsString(e,t)},this._isIos12=function(){return navigator&&navigator.appVersion&&null!==navigator.appVersion.match(/iP(hone|ad); CPU (iPhone )?OS 12_/)},this._createSameSiteArray=function(e,t){var n=[];return-1===["visitor-id","edmunds","session-id","edw"].indexOf(e)?(n.push("SameSite=Lax"),n):(this._isIos12()||(n.push("SameSite=None"),-1===t.indexOf("secure")&&n.push("Secure")),n)},this.set=function(e,t,n){try{init(),n=n||{};var r=[];if("object"==typeof t)this.setAsMap(e,t,n);else{countBytes(t)>COOKIE_LIMIT&&$L.error("Cookie "+e+" is too large, might not save."),n.noencode||(t=encodeURIComponent(t)),r.push(encodeURIComponent(e)+"="+t),n.exp=n.exp||getDefaultExpiration(),n.exp instanceof Date&&r.push("expires="+n.exp.toGMTString());var i=n.path||DEFAULT_PATH;r.push("path="+i),i=n&&n.hasOwnProperty("domain")?n.domain:getDefaultDomain(),r.push("domain="+i),"string"==typeof n.secure&&r.push("secure"),document.cookie=r.concat(this._createSameSiteArray(e,r)).join("; ")}}catch(o){$L.log("exception",o.stack,o)}},this.setAsMap=function(e,t,n){init(),n=n||{},t="object"==typeof t?t:{};var r=[];r.push("");for(var i in t)i&&t[i]&&r.push(encodeURIComponent(i)+"="+encodeURIComponent(t[i]));n.noencode=!0,this.set(e,r.join("&"),n)},this.setAsJson=function(e,t,n){init(),t="object"==typeof t?t:{};var r=$J.stringify(t);this.set(e,r,n)},this.remove=function(e,t){init();var t=t||{};t.exp=new Date(0),this.set(e,"",t)},this.isSupported=function(){return navigator.cookieEnabled===!0?!0:document.cookie.indexOf(STR_TEST_COOKIE)>=0?!0:(document.cookie=STR_TEST_COOKIE,document.cookie.indexOf("tcook=a")>=0)};var parseQueryString=function(e){var t={};e=e.replace(/^\"|\"$/g,"");for(var n,r=e.split("&"),i=0,o=r.length;o>i;i++)n=r[i].split("="),n&&n.length&&n[0]&&(t[n[0]]=n.slice(1).join("="));return t},init=function(){initialized&&arguments[0]!==!0||($L=EDM.Core.Logger,$J=window.JSON,$J&&$J.parse&&$J.stringify||JSONPatch(),initialized=!0),cookieCache=parseCookies()},parseCookies=function(){var e={},t=document.cookie.split(/;\s/g);if(t&&t.length)for(var n,r,i,o=0,a=t.length;a>o;o++)n=t[o].split("="),n.length&&(r=decodeURIComponent(n[0]),i=decodeURIComponent(n.slice(1).join("=")),e[r]=i);return e},getDefaultDomain=function(){var e=document.location.host,t=e.split(".");return 3==t.length?e="."+t.slice(1).join("."):2==t.length&&(e="."+t.join(".")),e},getDefaultExpiration=function(){var e=new Date;return e.setUTCMonth(e.getUTCMonth()+DEFAULT_EXP_MONTH),e},countBytes=function(e){var t=encodeURI(e);if(-1!=t.indexOf("%")){var n=t.split("%").length-1;n=0===n?1:n,n+=t.length-3*n}else n=t.length;return n},JSONPatch=function(){$J={},function(){function f(e){return 10>e?"0"+e:e}function quote(e){return escapable.lastIndex=0,escapable.test(e)?'"'+e.replace(escapable,function(e){var t=meta[e];return"string"==typeof t?t:"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+e+'"'}function str(e,t){var n,r,i,o,a,c=gap,s=t[e];switch(s&&"object"==typeof s&&"function"==typeof s.toJSON&&(s=s.toJSON(e)),"function"==typeof rep&&(s=rep.call(t,e,s)),typeof s){case"string":return quote(s);case"number":return isFinite(s)?s+"":"null";case"boolean":case"null":return s+"";case"object":if(!s)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(s)){for(o=s.length,n=0;o>n;n+=1)a[n]=str(n,s)||"null";return i=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+c+"]":"["+a.join(",")+"]",gap=c,i}if(rep&&"object"==typeof rep)for(o=rep.length,n=0;o>n;n+=1)"string"==typeof rep[n]&&(r=rep[n],i=str(r,s),i&&a.push(quote(r)+(gap?": ":":")+i));else for(r in s)Object.prototype.hasOwnProperty.call(s,r)&&(i=str(r,s),i&&a.push(quote(r)+(gap?": ":":")+i));return i=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+c+"}":"{"+a.join(",")+"}",gap=c,i}}"function"!=typeof Date.prototype.toJSON&&(Date.prototype.toJSON=function(){return isFinite(this.valueOf())?this.getUTCFullYear()+"-"+f(this.getUTCMonth()+1)+"-"+f(this.getUTCDate())+"T"+f(this.getUTCHours())+":"+f(this.getUTCMinutes())+":"+f(this.getUTCSeconds())+"Z":null},String.prototype.toJSON=Number.prototype.toJSON=Boolean.prototype.toJSON=function(){return this.valueOf()});var cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;"function"!=typeof $J.stringify&&($J.stringify=function(e,t,n){var r;if(gap="",indent="","number"==typeof n)for(r=0;n>r;r+=1)indent+=" ";else"string"==typeof n&&(indent=n);if(rep=t,t&&"function"!=typeof t&&("object"!=typeof t||"number"!=typeof t.length))throw Error("$J.stringify");return str("",{"":e})}),"function"!=typeof $J.parse&&($J.parse=function(text,reviver){function walk(e,t){var n,r,i=e[t];if(i&&"object"==typeof i)for(n in i)Object.prototype.hasOwnProperty.call(i,n)&&(r=walk(i,n),void 0!==r?i[n]=r:delete i[n]);return reviver.call(e,t,i)}var j;if(text+="",cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(e){return"\\u"+("0000"+e.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("$J.parse")})}()}},EDM.EdwPartner=EDM.EdwPartner||{VERSION:1},EDM.EdwPartner.EdwContextFactory=new function(){var e="edmunds";this.createContext=function(t,n,r,i){return t===e?new EDM.EdwPartner.EdwPartnerContext(t,n,r,i):new EDM.EdwPartner.EdwPartnerContext(t,n,r,i)}},EDM.EdwPartner.EdwPartnerContext=function(e,t,n,r){try{!t&&window.top&&window.top.document&&(t=window.top)}catch(i){t=window}n=n||t.document,this.generateContext=function(i){EDM.EdwPartner.EdwVisitor.createSession(function(){var u={};if(u.edwsynpartner=e,o(u,t,n),a(u),c(u,t,n),s(u,n),r)for(var d in r)r[d]&&(u[d]=r[d]);EDM.EdwPartner.EdwVisitor.extendSession(function(){}),i(u)})};var o=function(e,t,n){e.title=encodeURIComponent(n.title),e.edwurl=encodeURIComponent(n.location.href),e.edwref=encodeURIComponent(n.referrer),e.edwpg="",e.edwcat="",e.edwtimestamp=t.EDM&&EDM.PageValues&&EDM.PageValues.page&&null!=EDM.PageValues.page.timestamp?EDM.PageValues.page.timestamp:(new Date).getTime(),e.ts=e.edwtimestamp,t.screen&&(e.edwscrres=t.screen.width+"x"+t.screen.height),navigator&&navigator.userAgent&&(e.ua=navigator.userAgent)},a=function(e){e.edwedck=EDM.EdwPartner.EdwVisitor.getVisitorId(),e.edwck=EDM.EdwPartner.EdwVisitor.getSessionId(),e.edwzipck="",e.edwreglogin="n",e.edwregmember="v"},c=function(e){e.edwad=""},s=function(e){e.edwmk="",e.edwmdl="",e.model_link_code="",e.make_id="",e.edwusein=""}},EDM.EdwPartner.EdwTrackerFactory=new function(){var e={};this.createTracker=function(t,n,r,i){if(!e[t]){var o=EDM.EdwPartner.EdwContextFactory.createContext(t,r,i,n);e[t]=new EDM.EdwPartner.EdwTracker(o)}return e[t]}},EDM.EdwPartner.EdwTracker=function(e,t){t=t||{};var n="pageload",r="page_enter",i=t.DOMAIN||"edw.edmunds.com",o=t.PATH||"/edw/edw1x1.gif",a=["edwzipck","edwedck","edwtimestamp","edwck","edwregmember","edwreglogin","edwusein","edwmk","edwmdl","edwsubmdl","edwyr","edwpg","edwstlid","edwcat","make_id","model_link_code","model_year_id","submodel_id","edwref","edwurl","title","ua","edwscrres","ts","edwsynpartner"];this.trackEvent=function(e,t,n){if(e)n=n||{},s(e,t,n,function(r){var a="//",s=a+i+o+"?"+c(r),u=new Image(1,1);u.src=s,window.ETRACKBASE&&window.ETRACKBASE.eventQueue&&window.ETRACKBASE.eventQueue.addEvent(e,t,n)});else if(!e)throw"event name is required"},this.trackPageEnter=function(e,t){t=t||{},t.isPageView=t.isPageView||!0,this.trackEvent(r,e,t)};var c=function(e){var t="";if(e)for(var n in e)t+=n+"="+e[n]+"&";return t},s=function(t,n,r,i){e&&"function"==typeof e.generateContext&&e.generateContext(function(e){var o={};o.eventtype=t;for(var c,s=0,d=a.length;d>s;s++)c=a[s],n[c]?(o[c]=n[c],delete n[c]):e[c]&&(o[c]=e[c]);o.eventdata=u(n,r),i(o)})},u=function(e,t){var r="";if(!t.isPageView||e&&e[n]||(r+=n+"|1;"),e)for(var i in e)i&&(r+=i+"|"+(e[i]||"")+";");return r}},EDM.EdwPartner.EdwVisitor=new function(){var e=this,t=EDM.Core.Cookie,n="https://www.edmunds.com/cgi-bin/edw_partner.cgi",r="_edwps",i="_edwpv",o=!1,a=!1,c="";this.getSessionId=function(e){u();var n=t.getAsString(r);if(!n&&e===!0){n=d();var i={};i.exp=(new Date).getTime()+18e5,t.set(r,n,i)}return n},this.getVisitorId=function(e){u();var n=t.getAsString(i);if(!n&&e===!0){n=f();var r={};r.exp=(new Date).getTime()+315569e5,a||(r.exp=(new Date).getTime()+31536e7),t.set(i,n,r)}return n},this.extendSession=function(n){if(u(),a){var o={};o.exp=(new Date).getTime()+315569e5,a||(o.exp=(new Date).getTime()+31536e7),t.set(i,e.getVisitorId(),o),o.exp=(new Date).getTime()+18e5,t.set(r,e.getSessionId(),o),n()}else s(n,!0)},this.createSession=function(t){u(),e.getSessionId()?t():a?(e.getSessionId(!0),e.getVisitorId(!0),t()):s(t,!0)};var s=function(e,t){var r=n+"?edwp="+c,i=!1;try{i=!!document.querySelector('script[src$="'+r+'"]')}catch(o){}if(t!==!0&&i)e();else{var a=document.createElement("script");void 0!==a.onreadystatechange?a.onreadystatechange=function(){("complete"==this.readyState||"loaded"==this.readyState||304==this.status||404==this.status)&&e()}:a.onload=e,a.src=r,document.body.appendChild(a)}},u=function(){if(!o)try{o=!0;var e=/^.+\.edmunds\.com$/gi,t=window.location.host;a=!!e.exec(t),r=a?"edw":"_edwps",i=a?"edmunds":"_edwpv",c=window._edw&&window._edw.account?window._edw.account:"unknown"}catch(n){o=!1}},d=function(){return p(30)},f=function(){return"ep-"+p(56)},p=function(e){return Math.floor(Math.random()*Math.pow(10,e)).toString(36)}},EDM.createTracker=function(e,t,n,r){return EDM.EdwPartner.EdwTrackerFactory.createTracker(e,t,n,r)},EDM.EdwPartner.NoWaitPrimer=new function(){this.execute=function(){if(window.EDM&&EDM.EdwPartner&&window._edw&&"object"==typeof window._edw){var e=_edw.account||_edw.partnerId,t=_edw.eventType,n=_edw.data||{},r=_edw.options||{},i=EDM.EdwPartner.EdwTrackerFactory.createTracker(e,r);t?i.trackEvent(t,n):i.trackPageEnter(n)}}},function(){EDM.EdwPartner.NoWaitPrimer.execute()}();