!function(e,n){"use strict";var t=["event","element","elementCTA","action","result","widgetName","widgetId","widgetState","fieldValue","formId","formEventId","value","sourceData"],a=function(e){return t.forEach(function(n){"undefined"==typeof e[n]&&(e[n]=void 0)}),e},i=function(e,n){var t=[];t.push(n.widgetName),t.push(n.eventName),t.push(n.data),t.push(n.value),t.push(!!n.noninteraction),n.hitCallback&&t.push(n.hitCallback),n.dimensionIndex&&n.dimensionValue&&(t.push("dimension"+n.dimensionIndex),t.push(n.dimensionValue)),"undefined"!=typeof ga&&ga(function(){for(var a=n.trackerIds?n.trackerIds.join(","):void 0,i=_.uniq(ga.getAll(),function(e){return e.get("trackingId")}),o=[],d=0;d<i.length;++d){var c=i[d],u=c.get("name"),g=c.get("trackingId");a&&a.indexOf(g)>-1?o.push(u):void 0===a&&o.push(u)}for(var d=0;d<o.length;d++){var s=o[d],l="["+ga.getByName(s).get("trackingId")+"] _"+e.type+"()",v="dimension"+n.dimensionIndex,p={hitType:"event",eventCategory:n.widgetName,eventAction:n.eventName,eventLabel:n.data,eventValue:n.value,nonInteraction:n.noninteraction||void 0,hitCallback:n.hitCallback||void 0};n.dimensionIndex&&n.dimensionValue&&(p[v]=n.dimensionValue),ga(s+".send",p),r(l,t)}})},o=function(){e(document).on("trackEvent",function(e,t){if(t&&"widgetUserEvent"===t.event){var o=a(t);if(n.pushToGtmDataLayer(o),!window.DDC.thirdPartyGoogleAnalyticsTrackingIds||!window.DDC.thirdPartyGoogleAnalyticsTrackingIds.length)return;if("blurred"===o.action||"focused"===o.action)return;var r={widgetName:window.DDC.dataLayer.page.pageInfo.pageName+" > "+o.widgetName+" > "+o.widgetId,eventName:o.element+" "+o.action,data:o.result,value:void 0,noninteraction:o.nonInteractive||void 0,trackerIds:window.DDC.thirdPartyGoogleAnalyticsTrackingIds};i(e,r)}else t&&t.widgetName&&t.eventName&&i(e,t)}),e(document).on("trackSocialEvent",function(e,n){if(n&&n.network&&n.socialAction){var t=[];t.push(n.network),t.push(n.socialAction),t.push(n.opt_target),t.push(n.opt_pagePath),"undefined"!=typeof ga&&ga(function(){for(var a=ga.getAll(),i=0;i<a.length;++i){var o=a[i],d=o.get("name"),c="["+o.get("trackingId")+"] _"+e.type+"()";ga(d+".send",{hitType:"social",socialNetwork:n.network,socialAction:n.socialAction,socialTarget:n.opt_target,page:n.opt_pagePath}),r(c,t)}})}})},r=function(e,t){for(var a=[e],i=0;i<t.length;i++)a.push(t[i]);n.log(a)},d=function(){var n=e("body"),t=n.find(".consumer-privacy-banner");if(t.length){var a=t.find(".consumer-privacy-banner-button");a.length&&(n.prepend(t),a.on("click",function(n){n.preventDefault(),t.removeClass("in").attr("aria-hidden","true"),e.cookie("DDC.AllowUserData","true",{path:"/",expires:365})}))}};e(function(){o(),window.DDC=window.DDC||{},window.DDC.tracking=window.DDC.tracking||{},window.DDC.tracking.ready=!0,e.publish("ddc-event-tracking-ready"),n.WidgetData["tracking-ddc"].showPrivacyBanner&&d()})}(jQuery,window.DDC);